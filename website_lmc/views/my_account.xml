<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- start save mode template -->
        <template id="personal_tab">
            <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'personal_data' else ''}" id="nav-profile">
                <div class="fz17">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="wysiwyg font-light wysiwyg-multicolumn-2">
                                <ul class="list list-unstyled">
                                    <li><label>Name:</label> <span t-esc="partner.name" /></li>
                                    <li><label>Gender:</label> <span t-esc="partner.x_gender" /></li>
                                    <li><label>Date of birth:</label> <span t-field="partner.x_birthdate" t-options='{"format": "d-MM-YYYY"}' /></li>
                                    <li><label>Family Name:</label> <span t-esc="partner.x_family_name" /></li>
                                    <li><label>Nationality:</label> <span t-esc="partner.x_nationality.name" /></li>
                                    <li><label>License Type:</label> <span t-esc="partner.x_driver_license_type.name" /></li>
                                    <li><label>License Number:</label> <span t-esc="partner.x_driver_license_num" /></li>
                                    <li><label>Year of issuance of driving license:</label> <span t-esc="partner.x_driver_year_driving_license_issuance" /></li>
                                    <li><label>Drive Club:</label> <span t-esc="partner.x_drive_club" /></li>
                                    <li><label>Racing since:</label> <span t-esc="partner.x_driver_year_racing_since" /></li>
                                    <li><label>Driver number of events:</label> <span t-esc="partner.x_driver_amount_events" /></li>
                                    <li><label>Driver year of last event:</label> <span t-esc="partner.x_driver_year_last_event" /></li>
                                    <li><label>Drivers shirt size:</label> <span t-esc="partner.x_driver_shirt_size.name" /></li>
                                    <li><label>Path to picture of the driver:</label> <span t-esc="partner.x_driver_pict_path" /></li>
                                    <li><label>Successes of the driver:</label> <span t-esc="partner.x_driver_success" /></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="font-bold">
                                <label for="name">Address</label>
                            </div>
                            <p>
                                <t t-esc="'street' in partner and partner['street']" /><br />
                                <t t-esc="'zip' in partner and partner['zip']" />
                                <t t-esc="'city' in partner and partner['city']" /><br />
                                <t t-esc="partner.state_id.name" /><br />
                                <t t-esc="partner.country_id.name" />
                            </p>
                        </div>
                        <div class="col-md-2">
                            <div class="font-bold">
                                <label for="name">Contact</label>
                            </div>
                            <p>
                                <t t-esc="'email' in partner and partner['email']" /><br />
                                <t t-esc="'phone' in partner and partner['phone']" /><br />
                                <t t-esc="'mobile' in partner and partner['mobile']" />
                            </p>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <a href="/my/account" class="btn btn-primary">Edit profile</a>
                </div>
                <hr />
                <div class="col-12 mb-3 mt32 profile_address">
                    <div class="row">
                        <div class="card mb-3 col-md-4">
                            <div class="card-body">
                                <h6 class="card-title font-weight-bold billing_add">Billing Address</h6>
                                <div class="card border border-primary">
                                    <div class='card-body' style='min-height: 130px;'>
                                        <a t-if="user_id.partner_id" href="/my/account" class="btn btn-link float-right p-0 no-decoration" role="button" title="Edit this address" aria-label="Edit this address"><i class='fa fa-edit' /></a>
                                        <div t-field="user_id.partner_id" t-options="dict(widget='contact', fields=['name', 'address'], no_marker=True)" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card mb-3 col-md-4">
                            <div class="card-body">
                                <h6 class="card-title font-weight-bold">Shipping Address</h6>
                                <div class="row all_shipping">
                                    <div class="col-lg-12">
                                        <div class="row mt8">
                                            <div class="col-md-12 col-lg-12 one_kanban">
                                                <form action="/account/address?type=delivery" method="post" class="d-block">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <a role="button" class='a-submit btn btn-secondary mb16 btn-block user_shipping_address_add'>
                                                        <i class="fa fa-plus-square" />
                                                        <span>Add an address</span>
                                                    </a>
                                                </form>
                                            </div>
                                            <t t-foreach="shippings" t-as="ship">
                                                <!-- <t t-if="ship.type == 'delivery'"> -->
                                                <div class="col-md-12 col-lg-12 one_kanban mb8">
                                                    <t t-call="website_lmc.profile_shipping_address">
                                                        <t t-set="actual_partner" t-value="partner" />
                                                        <t t-set='contact' t-value="ship" />
                                                    </t>
                                                </div>
                                                <!-- </t> -->
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card mb-3 col-md-4">
                            <div class="card-body">
                                <h6 class="card-title font-weight-bold">Relatives</h6>
                                <div class="row all_shipping">
                                    <div class="col-lg-12">
                                        <div class="row mt8">
                                            <div class="col-md-12 col-lg-12 one_kanban">
                                                <form action="/account/address?type=other" method="post" class="d-block">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <a role="button" class='a-submit btn btn-secondary mb16 btn-block user_shipping_address_add'>
                                                        <i class="fa fa-plus-square" />
                                                        <span>Add an address</span>
                                                    </a>
                                                </form>
                                            </div>
                                            <t t-foreach="others" t-as="other">
                                                <!-- <t t-if="other.type == 'other'"> -->
                                                <div class="col-md-12 col-lg-12 one_kanban mb8">
                                                    <t t-call="website_lmc.profile_shipping_address">
                                                        <t t-set="actual_partner" t-value="partner" />
                                                        <t t-set='contact' t-value="other" />
                                                        <!-- <t t-set='hide_address' t-value="True" /> -->
                                                    </t>
                                                </div>
                                                <!-- </t> -->
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>
        <template id="vehicle_tab">
            <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'vehicle' else ''}" id="nav-vehicle">
                <section class="content-block-small">
                    <div class="container container--small">
                        <div class="classiccar__profile-data fz17">
                            <div class="car-teaser">
                                <div class="row">
                                    <div class="col-md-4 text-center">
                                        <div class="embed-responsive embed-responsive-4by3 mb-4 mb-md-2">
                                            <img width="300" height="225" class="embed-responsive-item" t-attf-src="/web/image/res.partner/{{request.env.user.partner_id.id}}/x_vehicle_pict" alt="Avatar" />
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="font-bold mb-2">
                                            <span t-esc="partner.x_vehicle_manufacturer" />
                                        </div>
                                        <div class="wysiwyg font-light wysiwyg-multicolumn-2">
                                            <ul class="list list-unstyled">
                                                <li><label>Category:</label> <span t-esc="partner.x_vehicle_cat.name" /></li>
                                                <li><label>Type:</label> <span t-esc="partner.x_vehicle_type" /></li>
                                                <li><label>Construction year:</label> <span t-esc="partner.x_vehicle_year_construction" /></li>
                                                <li><label>Cubic:</label> <span t-esc="partner.x_vehicle_ccm" /></li>
                                                <li><label>Cylinders:</label> <span t-esc="partner.x_vehicle_cylinder" /></li>
                                                <li><label>Horse power:</label> <span t-esc="partner.x_vehicle_horse_power" /></li>
                                                <li><label>Number Plate:</label> <span t-esc="partner.x_vehicle_number_plate" /></li>
                                                <li><label>Chassis No:</label> <span t-esc="partner.chassis_no" /></li>
                                                <li><label>FIA-period:</label> <span t-esc="partner.x_vehicle_homologation_num" /></li>
                                                <li><label>Document (FIA):</label> <span t-esc="partner.x_vehicle_doc_number" /></li>
                                                <li><label>Description:</label> <span t-esc="partner.x_vehicle_desc" /></li>
                                                <li><label>Modifications:</label> <span t-esc="partner.x_vehicle_modifications" /></li>
                                                <li><label>FIA registrasion number:</label> <span t-esc="partner.x_registrasion_number" /></li>
                                                <li><label>Approved?:</label> <span t-esc="partner.x_vehicle_approved" /></li>
                                                <li><label>Tire size:</label> <span t-esc="partner.x_vehicle_tire_size" /></li>
                                                <li><label>Rim size:</label> <span t-esc="partner.x_vehicle_rim_size" /></li>
                                                <li><label>Bild-Name:</label> <span t-esc="partner.x_vehicle_pict_path" /></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <a href="/vehicle/info" class="btn btn-primary">Edit Data</a>
                        </div>
                    </div>
                </section>
            </div>
        </template>
        <template id="nomination">
            <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'nomination' else ''}" id="nav-nomination">
                <section class="content-block-small">
                    <div class="container container--small">
                        <div class="fz17">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="wysiwyg font-light wysiwyg-multicolumn-2">
                                        <ul class="list list-unstyled">
                                            <li t-if="partner.x_nomination_year"><label>Nomination Year:</label> <span t-esc="partner.x_nomination_year" /></li>
                                            <li t-if="partner.x_date_enrolement_reveived"><label>Date Enrolement Received:</label> <span t-esc="partner.x_date_enrolement_reveived" /></li>
                                            <li t-if="partner.x_nomination_status"><label>Nomination Status:</label> <span t-esc="partner.x_nomination_status" /></li>
                                            <li t-if="partner.x_race_info_field"><label>Race field:</label> <span t-esc="partner.x_race_info_field.name" /></li>
                                            <li t-if="partner.x_race_info_starting_num"><label>Starting Number:</label> <span t-esc="partner.x_race_info_starting_num" /></li>
                                            <li t-if="partner.x_pit_box_number"><label>Pit Box Number:</label> <span t-esc="partner.x_pit_box_number" /></li>
                                            <li t-if="partner.x_vehicle_inspection_passed"><label>Vehicle inspection passed?:</label> <span t-esc="partner.x_vehicle_inspection_passed" /></li>
                                            <li t-if="partner.x_autorized"><label>Autorized to start?:</label> <span t-esc="partner.x_autorized" /></li>
                                            <li t-if="partner.x_race_info_pit_id"><label>Pit ID:</label> <span t-esc="partner.x_race_info_pit_id" /></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </template>
        <!-- end save mode temlate -->
        <!-- start address's templates -->
        <template id="add_profile_shipping_address">
            <t t-call="portal.portal_layout">
                <t t-set="additional_title">Contact Details</t>
                <div class="content-block-small tab-content">
                    <div role="tabpanel" class="container container--small tab-pane fade in active" id="nav-profile">
                        <form action="/account/address" method="post" class="form checkout_autoformat address_form">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" name="submitted" value="1" />
                            <input type="hidden" name="partner_id" t-att-value="partner and partner.id" />
                            <input type="hidden" name="type" t-att-value="type" />
                            <div class="form-section user_my_account">
                                <h2 t-if="type == 'delivery'">Shipping Address</h2>
                                <h2 t-if="type == 'other'">Relative Address</h2>
                                <div class="row row--gutter-width-24">
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="name" class="form-control has-value has-value" t-att-value="'name' in partner and partner['name']" />
                                            <label for="name">Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="email" name="email" class="form-control has-value" t-att-value="'email' in partner and partner['email']" required="true" />
                                            <label for="email">Email</label>
                                        </div>
                                    </div>
                                    <div class="clearfix" />
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="tel" name="phone" class="form-control has-value" t-att-value="'phone' in partner and partner['phone']" required="true" />
                                            <label for="phone">Phone</label>
                                        </div>
                                    </div>
                                    <div class="clearfix" />
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="street" class="form-control has-value" t-att-value="'street' in partner and partner['street']" required="true" />
                                            <label for="street">Street</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="city" class="form-control has-value" t-att-value="'city' in partner and partner['city']" required="true" />
                                            <label for="city">City</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="zipcode" class="form-control has-value" t-att-value="'zip' in partner and partner['zip']" required="true" />
                                            <label for="zipcode">Zip / Postal Code</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating div_country">
                                            <select id="country_id" name="country_id" class="form-control has-value" required="true">
                                                <option value="">Country...</option>
                                                <t t-foreach="countries" t-as="c">
                                                    <option t-att-value="c.id" t-att-selected="c.id == (country and country.id or -1)">
                                                        <t t-esc="c.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <label for="country_id">Country*</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating div_state" t-att-style="(not country or not country.state_ids) and 'display: none'">
                                            <select name="state_id" class="form-control has-value" data-init="1">
                                                <option value="">State / Province...</option>
                                                <t t-foreach="country and country.state_ids or []" t-as="s">
                                                    <option t-att-value="s.id" t-att-selected="s.id == ('state_id' in partner and country and partner['state_id'] != '' and int(partner['state_id']))">
                                                        <t t-esc="s.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <label for="state_id">State / Province*</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix text-center">
                                    <button type="submit" class="btn btn-primary mb32 ">
                                        Save
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'vehicle' else ''}" id="nav-vehicle">
                        <section class="content-block-small">
                            <div class="container container--small">
                                <div class="classiccar__profile-data fz17">
                                    <div class="car-teaser">
                                        <div class="row">
                                            <div class="col-md-4 text-center">
                                                <div class="embed-responsive embed-responsive-4by3 mb-4 mb-md-2">
                                                    <img width="300" height="225" class="embed-responsive-item" t-attf-src="/web/image/res.partner/{{request.env.user.partner_id.id}}/x_vehicle_pict" alt="Avatar" />
                                                </div>
                                            </div>
                                            <div class="col-md-8">
                                                <!-- <div class="font-bold mb-2">
                                                    <span t-esc="partner.x_vehicle_manufacturer" />
                                                </div>
                                                <div class="wysiwyg font-light wysiwyg-multicolumn-2">
                                                    <ul class="list list-unstyled">
                                                        <li>CCM: <span t-esc="partner.x_vehicle_ccm" /></li>
                                                        <li>Cylinders: <span t-esc="partner.x_vehicle_cylinder" /></li>
                                                        <li>Construction year: <span t-esc="partner.x_vehicle_year_construction" /></li>
                                                        <li>FIA-period: <span t-esc="partner.x_vehicle_homologation_num" /></li>
                                                        <li>Type: <span t-esc="partner.x_vehicle_type" /></li>
                                                        <li>Approved?: <span t-esc="partner.x_vehicle_approved" /></li>
                                                        <li>horse power: <span t-esc="partner.x_vehicle_horse_power" /></li>
                                                        <li>Description: <span t-esc="partner.x_vehicle_desc" /></li>
                                                        <li>Modifications: <span t-esc="partner.x_vehicle_modifications" /></li>
                                                        <li>Tire size: <span t-esc="partner.x_vehicle_tire_size" /></li>
                                                        <li>Rim size: <span t-esc="partner.x_vehicle_rim_size" /></li>
                                                        <li>Document (FIA): <span t-esc="partner.x_vehicle_doc_number" /></li>
                                                        <li>FIA registrasion number: <span t-esc="partner.x_registrasion_number" /></li>
                                                        <li>Bild-Name: <span t-esc="partner.x_vehicle_pict_path" /></li>
                                                        <li>Number Plate: <span t-esc="partner.x_vehicle_number_plate" /></li>
                                                    </ul>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center mt-4">
                                    <a href="/vehicle/info" class="btn btn-primary">Edit Data</a>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'nomination' else ''}" id="nav-nomination">
                        <section class="content-block-small">
                            <div class="container container--small">
                                <div class="fz17">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="wysiwyg font-light wysiwyg-multicolumn-2">
                                                <ul class="list list-unstyled">
                                                    <!-- <li t-if="partner.x_nomination_year"><label>Nomination Year:</label> <span t-esc="partner.x_nomination_year" /></li>
                                                    <li t-if="partner.x_date_enrolement_reveived"><label>Date Enrolement Received:</label> <span t-esc="partner.x_date_enrolement_reveived" /></li>
                                                    <li t-if="partner.x_nomination_status"><label>Nomination Status:</label> <span t-esc="partner.x_nomination_status" /></li>
                                                    <li t-if="partner.x_race_info_field"><label>Race field:</label> <span t-esc="partner.x_race_info_field.name" /></li>
                                                    <li t-if="partner.x_race_info_starting_num"><label>Starting Number:</label> <span t-esc="partner.x_race_info_starting_num" /></li>
                                                    <li t-if="partner.x_pit_box_number"><label>Pit Box Number:</label> <span t-esc="partner.x_pit_box_number" /></li>
                                                    <li t-if="partner.x_vehicle_inspection_passed"><label>Vehicle inspection passed?:</label> <span t-esc="partner.x_vehicle_inspection_passed" /></li>
                                                    <li t-if="partner.x_autorized"><label>Autorized to start?:</label> <span t-esc="partner.x_autorized" /></li>
                                                    <li t-if="partner.x_race_info_pit_id"><label>Pit ID:</label> <span t-esc="partner.x_race_info_pit_id" /></li> -->
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center mt-4">
                                    <a href="/nomination/info" class="btn btn-primary">Edit Data</a>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </t>
        </template>
        <!-- end address's templates -->
        <!-- start address delete popup -->
        <template id="profile_shipping_address" name="Shipping Kanban address">
            <form action="/account/address" method="POST" class="d-none">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                <input type="hidden" name="partner_id" t-att-value="contact.id" />
                <input type='submit' />
            </form>
            <div class="card border border-primary">
                <div class='card-body' style='min-height: 130px;'>
                    <div class="address_icon mb8">
                        <a href="#" data-toggle="modal" t-attf-data-target="#basicModal#{contact.id}" class="float-left" title="Delete" aria-label="Delete">
                            <i class="fa fa-trash-o fa-1g"></i>
                        </a>
                        <!-- basic modal -->
                        <div class="modal fade" t-attf-id="basicModal#{contact.id}" tabindex="-1" role="dialog" t-attf-aria-labelledby="basicModal#{contact.id}" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <p>Are you sure you want to delete this Address?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <a href="#" t-att-partner_id="contact.id" class="btn btn-primary addresss_delete o_forum_address_delete">
                                            yes, Delete
                                        </a>
                                        <button type="button" class="btn btn-default address_cancel" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a t-if="not actual_partner or (contact.id in actual_partner.child_ids.ids)" class="btn btn-link float-right p-0 user_edit_address no-decoration" role="button" title="Edit this address" aria-label="Edit this address"><i class='fa fa-edit' /></a>
                    </div>
                    <div class="clearfix" />
                    <!-- <t t-if="not hide_address"> -->
                    <t t-esc="contact" t-options="dict(widget='contact', fields=['name', 'address'], no_marker=True)" />
                    <!-- </t> -->
                    <!-- <t t-if="hide_address">
                        <t t-esc="contact" t-options="dict(widget='contact', fields=['name', 'address'], no_marker=True)" />
                    </t> -->
                </div>
            </div>
        </template>
        <!-- end address delete popup -->
        <!-- profile Main page -->
        <template id="portal.portal_layout" name="Portal Layout">
            <t t-call="portal.frontend_layout">
                <div id="profile_img_save_delete" class="alert d-none alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                    <strong>Success!</strong> <span id="lmc_msg_datas"></span>
                </div>
                <t t-set="is_portal" t-value="True" />
                <div t-if="o_portal_fullwidth_alert" class="alert alert-info alert-dismissible rounded-0 fade show d-print-none css_editable_mode_hidden">
                    <div class="container">
                        <t t-raw="o_portal_fullwidth_alert" />
                    </div>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"> &#215; </button>
                </div>
                <div id="wrap" class='o_portal_wrap user_profile'>
                    <section class="main-section">
                        <section class="classiccar-header">
                            <section class="sub-banner banner container-fluid"></section>
                            <div class="classiccar-header__body">
                                <!-- <h1 class="h3 classiccar-header__hl">Your Profile</h1> -->
                                <h2 class="content-hl"></h2>
                            </div>
                            <div class="classiccar__user text-center">
                                <div class="col-12 col-sm-auto mb-3 image_change_profile">
                                    <div class="mx-auto custom_dp_change" style="width: 175px;">
                                        <input type="file" class="d-none o_forum_file_upload" name="ufile" accept="image/*" />
                                        <div class="user_img_icon">
                                            <div class="profile_photo_icons">
                                                <a href="#" class="float-left o_forum_profile_pic_edit" aria-label="Edit">
                                                    <i class="fa fa-pencil fa-1g" title="Edit"></i>
                                                </a>
                                                <a href="#" class="float-right o_forum_profile_pic_clear" title="Clear" aria-label="Clear">
                                                    <i class="fa fa-trash-o fa-1g"></i>
                                                </a>
                                            </div>
                                            <img class="img img-fluid o_forum_avatar_img classiccar__user-img" t-attf-src="/web/image/res.partner/{{request.env.user.partner_id.id}}/image" alt="Avatar" />
                                        </div>
                                    </div>
                                </div>
                                <div class="h4 classiccar__user-hl text-primary">
                                    <t t-esc="'name' in partner and partner['name']" />
                                </div>
                                <div class="mb-4 mb-md-0">
                                    <a class="fz15" t-attf-href="/web/reset_password" target="_blank">Change password</a> |
                                    <a class="fz15" t-if="not user_id._is_public()" t-attf-href="/web/session/logout?redirect=/">Logout</a> |
                                    <a class="fz15">Joined <span t-field="request.env.user.create_date" t-options='{"format": "dd MMMM y"}'></span></a>
                                    <div class="text-muted"><small>Last seen <span t-esc="request.env.user.get_last_seen()" /> ago</small></div>
                                </div>
                            </div>
                        </section>
                        <div class="container container--small">
                            <div class="classiccar__profile-nav">
                                <ul class="nav justify-content-center nav-tabs nav-tabs--default" role="tablist">
                                    <li class="nav-item">
                                        <a t-attf-class="nav-link #{'active' if tabinfo == 'personal_data' else ''}" href="#nav-profile" role="tab" data-toggle="tab">Personal Data</a>
                                    </li>
                                    <li class="nav-item">
                                        <a t-attf-class="nav-link #{'active' if tabinfo == 'vehicle' else ''}" href="#nav-vehicle" role="tab" data-toggle="tab">Vehicle</a>
                                    </li>
                                    <li class="nav-item">
                                        <a t-attf-class="nav-link #{'active' if tabinfo == 'nomination' else ''}" href="#nav-nomination" role="tab" data-toggle="tab">Nomination</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <t t-if="my_details">
                            <div class="content-block-small tab-content">
                                <t t-call="website_lmc.personal_tab" />
                                <t t-call="website_lmc.vehicle_tab" />
                                <t t-call="website_lmc.nomination" />
                                <div id="o_my_sidebar" class="col-12 col-md col-lg-4 col-xl-3 o_my_sidebar" style="display:none;">
                                    <div class="o_my_contact" t-if="sales_user">
                                        <t t-call="portal.portal_contact" />
                                    </div>
                                    <div class="o_portal_my_details">
                                        <h4>Your Details <a role="button" href="/my/account" class="btn btn-sm btn-link"><i class="fa fa-pencil" /> Edit</a></h4>
                                        <hr class="mt-1 mb-0" />
                                        <div t-field="user_id.partner_id" t-options='{"widget": "contact", "fields": ["email", "phone", "address", "name"]}' />
                                    </div>
                                    <div class="o_my_archives" t-if="archive_groups">
                                        <t t-call="portal.portal_archive_groups" />
                                    </div>
                                </div>
                            </div>
                        </t>
                        <t t-else="">
                            <t t-raw="0" />
                        </t>
                    </section>
                </div>
            </t>
        </template>
        <!-- personal detail edit -->
        <template id="portal.portal_my_details">
            <t t-call="portal.portal_layout">
                <!-- Tab panes -->
                <div class="content-block-small tab-content">
                    <div role="tabpanel" t-attf-class="container custom-tab-edit-mode container--small tab-pane fade #{'in active' if tabinfo == 'personal_data' else ''} " id="nav-profile">
                        <form action="/my/account" class="form checkout_autoformat address_form" method="post">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="form-section o_portal_details">
                                <h6 class="form-section__headline text-center">Personal data</h6>
                                <div class="row row--gutter-width-24">
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="name" class="floating-input" t-att-value="'name' in partner and partner['name']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="name">Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="email" name="email" class="floating-input" t-att-value="'email' in partner and partner['email']" required="true" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="email">Email</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="tel" name="phone" class="floating-input" t-att-value="'phone' in partner and partner['phone']" required="true" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="phone">Phone</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="street" class="floating-input" t-att-value="'street' in partner and partner['street']" required="true" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="street">Street</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="city" class="floating-input" t-att-value="'city' in partner and partner['city']" required="true" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="city">City</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="zipcode" class="floating-input" t-att-value="'zip' in partner and partner['zip']" required="true" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="zipcode">Zip / Postal Code</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="country_id" name="country_id" class="floating-select" onclick="this.setAttribute('value', this.value);" required="true">
                                                <option value=""></option>
                                                <t t-foreach="countries or []" t-as="country">
                                                    <option t-att-value="country.id" t-att-selected="country.id == int(country_id) if country_id else country.id == partner.country_id.id">
                                                        <t t-esc="country.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="country_id">Country*</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="state_id" name="state_id" class="floating-select" onclick="this.setAttribute('value', this.value);" required="true">
                                                <option value=""></option>
                                                <t t-foreach="states or []" t-as="state">
                                                    <option t-att-value="state.id" style="display:none;" t-att-data-country_id="state.country_id.id" t-att-selected="state.id == partner.state_id.id">
                                                        <t t-esc="state.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="state_id">State / Province*</label>
                                        </div>
                                    </div>
                                    <!-- extra fields -->
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="x_gender" name="x_gender" class="floating-select" onclick="this.setAttribute('value', this.value);">
                                                <option value=""></option>
                                                <option value="male" t-att-selected="partner.x_gender == 'male'">Male</option>
                                                <option value="female" t-att-selected="partner.x_gender == 'female'">Female</option>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="x_gender">Gender</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_family_name" class="floating-input" t-att-value="'x_family_name' in partner and partner['x_family_name']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_family_name">Family Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="x_nationality" name="x_nationality" class="floating-select" onclick="this.setAttribute('value', this.value);">
                                                <option value=""></option>
                                                <t t-foreach="nationalities or []" t-as="nationality">
                                                    <option t-att-value="nationality.id" t-att-selected="nationality.id == partner.x_nationality.id">
                                                        <t t-esc="nationality.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="x_nationality">Nationality*</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="x_driver_license_type" name="x_driver_license_type" class="floating-select" onclick="this.setAttribute('value', this.value);">
                                                <option value=""></option>
                                                <t t-foreach="license_types or []" t-as="l_type">
                                                    <option t-att-value="l_type.id" t-att-selected="l_type.id == partner.x_driver_license_type.id">
                                                        <t t-esc="l_type.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="x_driver_license_type">License Type*</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_driver_license_num" class="floating-input" t-att-value="'x_driver_license_num' in partner and partner['x_driver_license_num']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_driver_license_num">License Number</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_driver_year_driving_license_issuance" class="floating-input" t-att-value="'x_driver_year_driving_license_issuance' in partner and partner['x_driver_year_driving_license_issuance']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_driver_year_driving_license_issuance">Year of issuance of driving license</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_drive_club" class="floating-input" t-att-value="'x_drive_club' in partner and partner['x_drive_club']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_drive_club">Drive Club</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_driver_year_racing_since" class="floating-input" t-att-value="'x_driver_year_racing_since' in partner and partner['x_driver_year_racing_since']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_driver_year_racing_since">Racing since</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_driver_amount_events" class="floating-input" t-att-value="'x_driver_amount_events' in partner and partner['x_driver_amount_events']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_driver_amount_events"># of races participated</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_driver_year_last_event" class="floating-input" t-att-value="'x_driver_year_last_event' in partner and partner['x_driver_year_last_event']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_driver_year_last_event">Driver year of last event</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="x_driver_shirt_size" name="x_driver_shirt_size" class="floating-select" onclick="this.setAttribute('value', this.value);">
                                                <option value=""></option>
                                                <t t-foreach="shirt_size_ids or []" t-as="s_size">
                                                    <option t-att-value="s_size.id" t-att-selected="s_size.id == partner.x_driver_shirt_size.id">
                                                        <t t-esc="s_size.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="x_driver_shirt_size">Drivers shirt size*</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <textarea type="textarea" name="x_driver_success" class="floating-input floating-textarea" placeholder=" " maxlength="500"><t t-esc="partner.x_driver_success"/></textarea>
                                            <span class="highlight"></span>
                                            <label for="x_driver_success">Successes of the driver</label>
                                        </div>
                                    </div>
                                </div>
                                <input type="hidden" name="redirect" t-att-value="redirect" />
                            </div>
                            <div class="clearfix text-center">
                                <button type="submit" class="btn btn-primary mb32">
                                    Save
                                </button>
                                <a href="/my/home?tabinfo=personal_data" class="btn btn-primary mb32">
                                    Cancel
                                </a>
                            </div>
                        </form>
                    </div>
                    <!-- save mode -->
                    <t t-call="website_lmc.vehicle_tab" />
                    <t t-call="website_lmc.nomination" />
                </div>
            </t>
        </template>
        <!-- vehicle detail edit -->
        <template id="edit_vehicle_information">
            <t t-call="portal.portal_layout">
                <t t-set="additional_title">Vehicle Details</t>
                <div class="content-block-small tab-content">
                    <t t-call="website_lmc.personal_tab" />
                    <div role="tabpanel" t-attf-class="container custom-tab-edit-mode container--small tab-pane fade #{'in active' if tabinfo == 'vehicle' else ''} " id="nav-vehicle">
                        <form action="/vehicle/info/edit" method="post" class="form checkout_autoformat address_form" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" name="submitted" value="1" />
                            <input type="hidden" name="partner_id" t-att-value="partner and partner.id" />
                            <input type="hidden" name="vehicle_tab" value="1" />
                            <div class="form-section user_my_account">
                                <h2>Vehicle Details</h2>
                                <div class="row row--gutter-width-24">
                                    <div class="col-md-12 col-sm-auto mb-3">
                                        <div style="width: 140px;margin-bottom:15px;">
                                            <input type="file" class="d-none o_forum_vehicle_img_upload" name="vehicle_img" accept="image/*" />
                                            <div class="col-12">
                                                <a href="#" class="float-left o_forum_vehicle_pic_edit" aria-label="Edit">
                                                    <i class="fa fa-pencil fa-1g" title="Edit"></i>
                                                </a>
                                                <a href="#" class="float-right o_forum_vehicle_pic_clear" title="Clear" aria-label="Clear">
                                                    <i class="fa fa-trash-o fa-1g"></i>
                                                </a>
                                                <img class="img img-fluid o_forum_vehicle_img" t-attf-src="/web/image/res.partner/{{request.env.user.partner_id.id}}/x_vehicle_pict" alt="Avatar" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <select id="x_vehicle_cat" name="x_vehicle_cat" class="floating-select" onclick="this.setAttribute('value', this.value);" required="true">
                                                <option value=""></option>
                                                <t t-foreach="vehicle_categories or []" t-as="vehicle_categ">
                                                    <option t-att-value="vehicle_categ.id" t-att-selected="vehicle_categ.id == partner.x_vehicle_cat.id">
                                                        <t t-esc="vehicle_categ.name" />
                                                    </option>
                                                </t>
                                            </select>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_manufacturer">Category</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_manufacturer" class="floating-input" t-att-value="'x_vehicle_manufacturer' in partner and partner['x_vehicle_manufacturer']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_manufacturer">Vehicle manufacturer</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_type" class="floating-input" t-att-value="'x_vehicle_type' in partner and partner['x_vehicle_type']" placeholder=" " maxlength="20"/>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_type">Type</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_vehicle_year_construction" class="floating-input" t-att-value="'x_vehicle_year_construction' in partner and partner['x_vehicle_year_construction']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_year_construction">Construction year</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_vehicle_ccm" class="floating-input" t-att-value="'x_vehicle_ccm' in partner and partner['x_vehicle_ccm']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_ccm">Cubic</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_vehicle_cylinder" class="floating-input" t-att-value="'x_vehicle_cylinder' in partner and partner['x_vehicle_cylinder']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_cylinder">Cylinders</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="number" name="x_vehicle_horse_power" class="floating-input" t-att-value="'x_vehicle_horse_power' in partner and partner['x_vehicle_horse_power']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_horse_power">Horse power</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_number_plate" class="floating-input" t-att-value="'x_vehicle_number_plate' in partner and partner['x_vehicle_number_plate']" placeholder=" " maxlength="20"/>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_number_plate">Number Plate</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="chassis_no" class="floating-input" t-att-value="'chassis_no' in partner and partner['chassis_no']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="chassis_no">Chassis</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_homologation_num" class="floating-input" t-att-value="'x_vehicle_homologation_num' in partner and partner['x_vehicle_homologation_num']" placeholder=" " maxlength="4"/>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_homologation_num">FIA-period</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_doc_number" class="floating-input" t-att-value="'x_vehicle_doc_number' in partner and partner['x_vehicle_doc_number']" placeholder=" " maxlength="100"/>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_doc_number">Document (FIA)</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_desc" class="floating-input" t-att-value="'x_vehicle_desc' in partner and partner['x_vehicle_desc']" placeholder=" " maxlength="500"/>
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_desc">Description</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_vehicle_modifications" class="floating-input" t-att-value="'x_vehicle_modifications' in partner and partner['x_vehicle_modifications']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_vehicle_modifications">Modifications</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="floating-label">
                                            <input type="text" name="x_registrasion_number" class="floating-input" t-att-value="'x_registrasion_number' in partner and partner['x_registrasion_number']" placeholder=" " />
                                            <span class="highlight"></span>
                                            <label for="x_registrasion_number">FIA registrasion number</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix text-center">
                                    <button type="submit" class="btn btn-primary mb32 ">
                                        Save
                                    </button>
                                    <a href="/my/home?tabinfo=vehicle" class="btn btn-primary mb32">
                                        Cancel
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                    <t t-call="website_lmc.nomination" />
                </div>
            </t>
        </template>
        <!-- nomination detail edit -->
        <template id="edit_nomination_information">
            <t t-call="portal.portal_layout">
                <t t-set="additional_title">Nomination Details</t>
                <div class="content-block-small tab-content">
                    <t t-call="website_lmc.personal_tab" />
                    <t t-call="website_lmc.vehicle_tab" />
                    <div role="tabpanel" t-attf-class="container container--small tab-pane fade #{'in active' if tabinfo == 'nomination' else ''} " id="nav-nomination">
                        <form action="/nomination/info/edit" method="post" class="form checkout_autoformat address_form" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" name="submitted" value="1" />
                            <input type="hidden" name="partner_id" t-att-value="partner and partner.id" />
                            <input type="hidden" name="vehicle_tab" value="1" />
                            <div class="form-section user_my_account">
                                <h2>Nomination Details</h2>
                                <div class="row row--gutter-width-24">
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="x_nomination_year" class="form-control has-value has-value" t-att-value="partner.x_nomination_year" />
                                            <label for="x_nomination_year">Nomination Year</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="date" name="x_date_enrolement_reveived" class="form-control has-value has-value" t-att-value="partner.x_date_enrolement_reveived" />
                                            <label for="x_date_enrolement_reveived">Date Enrolement Received</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="x_nomination_status" class="form-control has-value has-value" t-att-value="partner.x_nomination_status" />
                                            <label for="x_nomination_status">Nomination Status</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="x_race_info_field" class="form-control has-value has-value" t-att-value="partner.x_race_info_field.name" />
                                            <label for="x_race_info_field">Race field</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="number" name="x_race_info_starting_num" class="form-control has-value has-value" t-att-value="partner.x_race_info_starting_num" />
                                            <label for="x_race_info_starting_num">Starting Number</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="number" name="x_pit_box_number" class="form-control has-value has-value" t-att-value="partner.x_pit_box_number" />
                                            <label for="x_pit_box_number">Pit Box Number</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="x_vehicle_inspection_passed" class="form-control has-value has-value" t-att-value="partner.x_vehicle_inspection_passed" />
                                            <label for="x_vehicle_inspection_passed">Vehicle inspection passed?</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group form-group--floating">
                                            <input type="text" name="x_autorized" class="form-control has-value has-value" t-att-value="partner.x_autorized" />
                                            <label for="x_autorized">Autorized to start?</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix text-center">
                                    <button type="submit" class="btn btn-primary mb32 ">
                                        Save
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </t>
        </template>
    </data>
</odoo>